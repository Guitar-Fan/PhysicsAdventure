<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Adventure</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/ui.css">
    <link rel="stylesheet" href="styles/animations.css">
    
    <!-- Modern JavaScript Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'physics-blue': '#00d4ff',
                        'physics-purple': '#2d1b69',
                        'physics-dark': '#0c0c1e'
                    }
                }
            }
        }
    </script>
</head>
<body>
    <!-- Background Particles -->
    <div id="particles-js" class="fixed inset-0 z-0"></div>
    
    <div id="gameContainer" class="relative z-10">
        <!-- Main Menu -->
        <div id="mainMenu" class="screen active">
            <div class="menu-content flex flex-col items-center justify-center min-h-screen">
                <div class="text-center space-y-8">
                    <h1 class="game-title text-6xl md:text-8xl font-bold bg-gradient-to-r from-physics-blue to-purple-400 bg-clip-text text-transparent">
                        Physics Adventure
                    </h1>
                    <h2 class="game-subtitle text-2xl md:text-3xl text-physics-blue font-light">
                        The Escapist
                    </h2>
                    <div class="menu-buttons space-y-4 mt-12">
                        <button id="startGameBtn" class="menu-btn primary w-64 py-4 text-xl bg-gradient-to-r from-physics-blue to-blue-500 hover:from-blue-500 hover:to-physics-blue transform hover:scale-105 transition-all duration-300 rounded-lg shadow-lg hover:shadow-physics-blue/50">
                            🚀 Start Adventure
                        </button>
                        <button id="tutorialBtn" class="menu-btn w-64 py-4 text-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transform hover:scale-105 transition-all duration-300 rounded-lg border border-white/20">
                            📚 Tutorial
                        </button>
                        <button id="conceptsBtn" class="menu-btn w-64 py-4 text-xl bg-white/10 hover:bg-white/20 backdrop-blur-sm transform hover:scale-105 transition-all duration-300 rounded-lg border border-white/20">
                            🧪 Physics Concepts
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Story Intro -->
        <div id="storyIntro" class="screen">
            <div class="story-content">
                <div class="story-text">
                    <h2>The Great Escape</h2>
                    <p id="storyParagraph">In the vast cosmos, physics governs all - gravity pulls, momentum carries, energy transforms. But something impossible has happened...</p>
                </div>
                <button id="continueStory" class="story-btn">Continue</button>
                <button id="skipStory" class="story-btn secondary">Skip Intro</button>
            </div>
        </div>

        <!-- Main Game -->
        <div id="gameScreen" class="screen">
            <!-- HUD -->
            <div id="gameHUD">
                <div class="hud-top">
                    <div class="level-info">
                        <span id="levelName">Earth's Moon</span>
                        <span id="gravityInfo">Gravity: 1.62 m/s²</span>
                    </div>
                    <div class="physics-concepts">
                        <span id="currentConcept">Gravitational Force</span>
                    </div>
                </div>
                
                <div class="hud-side">
                    <div class="tools-panel">
                        <h3>Physics Tools</h3>
                        <div id="toolsContainer">
                            <div class="tool" data-tool="ball">
                                <img src="assets/icons/ball.svg" alt="Ball">
                                <span>Ball</span>
                            </div>
                            <div class="tool" data-tool="ramp">
                                <img src="assets/icons/ramp.svg" alt="Ramp">
                                <span>Ramp</span>
                            </div>
                            <div class="tool" data-tool="spring">
                                <img src="assets/icons/spring.svg" alt="Spring">
                                <span>Spring</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="physics-info">
                        <h3>Physics Data</h3>
                        <div id="physicsReadout">
                            <div class="readout-item">
                                <span>Velocity:</span>
                                <span id="velocityDisplay">0.0 m/s</span>
                            </div>
                            <div class="readout-item">
                                <span>Acceleration:</span>
                                <span id="accelerationDisplay">0.0 m/s²</span>
                            </div>
                            <div class="readout-item">
                                <span>Force:</span>
                                <span id="forceDisplay">0.0 N</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Canvas -->
            <canvas id="gameCanvas"></canvas>
            
            <!-- Physics Overlay -->
            <div id="physicsOverlay">
                <div id="vectorDisplay"></div>
                <div id="trajectoryDisplay"></div>
            </div>

            <!-- Dialogue Box -->
            <div id="dialogueBox" class="dialogue-container">
                <div class="dialogue-content">
                    <div class="character-info">
                        <div id="characterAvatar" class="character-avatar">✨</div>
                        <div id="characterName" class="character-name">Universe</div>
                    </div>
                    <div id="dialogueText" class="dialogue-text">Click to continue...</div>
                </div>
            </div>

            <!-- Level Complete Modal -->
            <div id="levelCompleteModal" class="modal">
                <div class="modal-content">
                    <h2>Physics Mastered!</h2>
                    <div id="levelStats">
                        <p>You've successfully demonstrated: <span id="conceptLearned"></span></p>
                        <div class="stats-grid">
                            <div class="stat">
                                <span class="stat-label">Time:</span>
                                <span id="completionTime">0:00</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Accuracy:</span>
                                <span id="accuracy">100%</span>
                            </div>
                        </div>
                    </div>
                    <button id="nextLevel" class="modal-btn primary">Next Planet</button>
                    <button id="replayLevel" class="modal-btn">Replay</button>
                </div>
            </div>

            <!-- Pause Modal -->
            <div id="pauseModal" class="modal">
                <div class="modal-content">
                    <h2>Game Paused</h2>
                    <div class="pause-menu">
                        <button id="resumeGame" class="modal-btn primary">Resume</button>
                        <button id="pauseRestartLevel" class="modal-btn">Restart Level</button>
                        <button id="pauseMainMenu" class="modal-btn">Main Menu</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tutorial Screen -->
        <div id="tutorialScreen" class="screen">
            <div class="tutorial-content">
                <h2>How to Play</h2>
                <div class="tutorial-steps">
                    <div class="step active" data-step="1">
                        <h3>1. Choose Your Tools</h3>
                        <p>Select physics objects from the tools panel to place in the environment.</p>
                    </div>
                    <div class="step" data-step="2">
                        <h3>2. Apply Physics</h3>
                        <p>Watch how gravity, momentum, and other forces affect your objects in real-time.</p>
                    </div>
                    <div class="step" data-step="3">
                        <h3>3. Solve Challenges</h3>
                        <p>Use physics concepts to help the Escapist follow the laws of physics again.</p>
                    </div>
                </div>
                <div class="tutorial-nav">
                    <button id="prevStep" class="tutorial-btn">Previous</button>
                    <button id="nextStep" class="tutorial-btn primary">Next</button>
                    <button id="exitTutorial" class="tutorial-btn secondary">Exit Tutorial</button>
                </div>
            </div>
        </div>

        <!-- Physics Concepts Reference -->
        <div id="conceptsScreen" class="screen">
            <div class="concepts-content">
                <h2>Physics Concepts</h2>
                <div class="concepts-grid">
                    <div class="concept-card" data-concept="gravity">
                        <h3>Gravitational Force</h3>
                        <p>F = G(m₁m₂)/r²</p>
                        <div class="concept-desc">Objects with mass attract each other with a force proportional to their masses and inversely proportional to the square of the distance between them.</div>
                    </div>
                    <div class="concept-card" data-concept="momentum">
                        <h3>Momentum</h3>
                        <p>p = mv</p>
                        <div class="concept-desc">The momentum of an object is the product of its mass and velocity. Momentum is conserved in collisions.</div>
                    </div>
                    <div class="concept-card" data-concept="energy">
                        <h3>Energy Conservation</h3>
                        <p>E = KE + PE</p>
                        <div class="concept-desc">Energy cannot be created or destroyed, only transformed between kinetic and potential energy.</div>
                    </div>
                    <div class="concept-card" data-concept="friction">
                        <h3>Friction Force</h3>
                        <p>f = μN</p>
                        <div class="concept-desc">Friction opposes motion and depends on the normal force and coefficient of friction between surfaces.</div>
                    </div>
                </div>
                <button id="backToMenu" class="concepts-btn">Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen active fixed inset-0 bg-gradient-to-br from-physics-dark via-physics-purple to-physics-dark flex items-center justify-center z-50">
        <div class="loading-content text-center space-y-8 max-w-md mx-auto px-8">
            <div class="loading-spinner w-16 h-16 mx-auto border-4 border-physics-blue/30 border-t-physics-blue rounded-full animate-spin"></div>
            <h2 class="text-4xl font-bold text-physics-blue">Physics Adventure</h2>
            <p id="loadingMessage" class="text-xl text-white">Initializing Game Systems...</p>
            <div class="progress-container space-y-2">
                <div class="progress-bar w-full h-2 bg-white/10 rounded-full overflow-hidden">
                    <div id="progressBar" class="progress-fill h-full bg-gradient-to-r from-physics-blue to-blue-500 rounded-full transition-all duration-300 shadow-lg shadow-physics-blue/50" style="width: 0%"></div>
                </div>
                <div id="progressText" class="progress-text text-physics-blue font-bold">0%</div>
            </div>
            <div class="loading-tips border-t border-white/10 pt-6">
                <p class="text-yellow-400 opacity-80 transition-opacity duration-300">💡 Tip: Use drag and drop to create physics objects!</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/physics/Vector2D.js"></script>
    <script src="js/physics/PhysicsEngine.js"></script>
    <script src="js/physics/RigidBody.js"></script>
    <script src="js/physics/CollisionDetection.js"></script>
    <script src="js/game/GameManager.js"></script>
    <script src="js/game/LevelManager.js"></script>
    <script src="js/game/InputManager.js"></script>
    <script src="js/game/Renderer.js"></script>
    <script src="js/entities/Player.js"></script>
    <script src="js/entities/Escapist.js"></script>
    <script src="js/entities/PhysicsObject.js"></script>
    <script src="js/ui/UIManager.js"></script>
    <script src="js/story/StoryManager.js"></script>
    <script src="js/main.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <script>eruda.init();</script>
</body>
</html>